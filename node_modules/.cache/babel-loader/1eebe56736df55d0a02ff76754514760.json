{"ast":null,"code":"import _toConsumableArray from\"F:/00 AIUB/react_ecommerce_thesis/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"F:/00 AIUB/react_ecommerce_thesis/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import SignIn from\"./SignIn\";import{useEffect,useState}from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";import{Link}from\"react-router-dom\";import DB_PRODUCTS from\"../database/products_db\";import DB_ATTRIBUTES from\"../database/attributes_db\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(){var _useState=useState(localStorage.getItem(\"token\")),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(localStorage.getItem(\"cartList\")?JSON.parse(localStorage.getItem(\"cartList\")):[]),_useState4=_slicedToArray(_useState3,2),cartList=_useState4[0],setCartList=_useState4[1];var calculateTotalPrice=function calculateTotalPrice(){var total=0;cartList.map(function(cart){total+=DB_PRODUCTS.filter(function(product){return product.id===cart.product_id;})[0].price*cart.quantity;});return total;};var removeItem=function removeItem(key){var cart=cartList.filter(function(cart){return cart.key!==key;});setCartList(_toConsumableArray(cart));localStorage.setItem(\"cartList\",JSON.stringify(cart));};if(!token){return/*#__PURE__*/_jsx(SignIn,{setToken:setToken});}return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto mt-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex shadow-md my-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/4 bg-white px-10 py-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between border-b pb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-semibold text-2xl\",children:\"Shopping Cart\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"font-semibold text-2xl\",children:[cartList.length,\" Items\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mt-10 mb-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-600 text-xs uppercase w-2/5\",children:\"Product Details\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-center text-gray-600 text-xs uppercase w-1/5 text-center\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-center text-gray-600 text-xs uppercase w-1/5 text-center\",children:\"Price\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-center text-gray-600 text-xs uppercase w-1/5 text-center\",children:\"Total\"})]}),cartList.map(function(item,index){var product=DB_PRODUCTS.filter(function(product){return product.id===item.product_id;})[0];return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center hover:bg-gray-100 -mx-8 px-6 py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-2/5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20\",children:/*#__PURE__*/_jsx(\"img\",{className:\"h-24\",src:product.image,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-between ml-4 flex-grow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-sm\",children:product.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 text-xs\",children:DB_ATTRIBUTES.brands.filter(function(attribute){return Number(attribute.uid)===Number(product.brand);})[0].value}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){removeItem(item.key);},className:\"font-semibold hover:text-red-500 text-gray-500 text-xs text-left\",children:\"Remove\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center w-1/5\",children:/*#__PURE__*/_jsx(\"input\",{className:\"mx-2 border text-center w-14\",type:\"number\",defaultValue:item.quantity})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-center w-1/5 font-semibold text-sm\",children:[\"BDT. \",product.price]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-center w-1/5 font-semibold text-sm\",children:[\"BDT. \",product.price*item.quantity]})]},product.id);}),/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"flex font-semibold text-indigo-600 text-sm mt-10\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"fill-current mr-2 text-indigo-600 w-4\",viewBox:\"0 0 448 512\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z\"})}),\"Continue Shopping\"]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"summary\",className:\"w-1/4 px-8 py-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-semibold text-2xl border-b pb-8\",children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-10 mb-5\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-sm uppercase\",children:[\"Items \",cartList.length]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-sm\",children:[\"BDT. \",calculateTotalPrice()]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"font-medium inline-block mb-3 text-sm uppercase block\",children:\"Shipping\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"font-small inline-block mb-3 text-sm uppercase\",children:\"Cash On Delivery\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t mt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex font-semibold justify-between py-6 text-sm uppercase\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total cost\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"BDT. \",calculateTotalPrice()]})]}),/*#__PURE__*/_jsx(Link,{to:\"/checkout\",className:\"bg-indigo-500 font-semibold hover:bg-indigo-600 py-3 text-sm text-white uppercase w-full block text-center\",children:\"Checkout\"})]})]})]})});};export default Cart;","map":{"version":3,"sources":["F:/00 AIUB/react_ecommerce_thesis/src/components/Cart.js"],"names":["SignIn","useEffect","useState","useLocation","useNavigate","Link","DB_PRODUCTS","DB_ATTRIBUTES","Cart","localStorage","getItem","token","setToken","JSON","parse","cartList","setCartList","calculateTotalPrice","total","map","cart","filter","product","id","product_id","price","quantity","removeItem","key","setItem","stringify","length","item","index","image","name","brands","attribute","Number","uid","brand","value"],"mappings":"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","sourcesContent":["import SignIn from \"./SignIn\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport {Link} from \"react-router-dom\";\r\nimport DB_PRODUCTS from \"../database/products_db\";\r\nimport DB_ATTRIBUTES from \"../database/attributes_db\";\r\n\r\nconst Cart = () => {\r\n    const [token, setToken] = useState(localStorage.getItem(\"token\"));\r\n    const [cartList, setCartList] = useState(localStorage.getItem(\"cartList\") ? JSON.parse(localStorage.getItem(\"cartList\")) : []);\r\n\r\n    const calculateTotalPrice = () => {\r\n        let total = 0;\r\n        cartList.map(cart => {\r\n            total += DB_PRODUCTS.filter(product => product.id === cart.product_id)[0].price * cart.quantity;\r\n        });\r\n        return total;\r\n    };\r\n\r\n    const removeItem = (key) => {\r\n        let cart = cartList.filter(cart => cart.key !== key);\r\n        setCartList([...cart]);\r\n        localStorage.setItem(\"cartList\", JSON.stringify(cart));\r\n    };\r\n\r\n    if (!token) {\r\n        return <SignIn setToken={setToken} />\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mx-auto mt-10\">\r\n            <div className=\"flex shadow-md my-10\">\r\n                <div className=\"w-3/4 bg-white px-10 py-10\">\r\n                    <div className=\"flex justify-between border-b pb-8\">\r\n                        <h1 className=\"font-semibold text-2xl\">Shopping Cart</h1>\r\n                        <h2 className=\"font-semibold text-2xl\">{cartList.length} Items</h2>\r\n                    </div>\r\n                    <div className=\"flex mt-10 mb-5\">\r\n                        <h3 className=\"font-semibold text-gray-600 text-xs uppercase w-2/5\">Product Details</h3>\r\n                        <h3 className=\"font-semibold text-center text-gray-600 text-xs uppercase w-1/5 text-center\">Quantity</h3>\r\n                        <h3 className=\"font-semibold text-center text-gray-600 text-xs uppercase w-1/5 text-center\">Price</h3>\r\n                        <h3 className=\"font-semibold text-center text-gray-600 text-xs uppercase w-1/5 text-center\">Total</h3>\r\n                    </div>\r\n                    {\r\n                        cartList.map((item, index) => {\r\n                            const product = DB_PRODUCTS.filter(product => product.id === item.product_id)[0];\r\n\r\n                            return (\r\n                                <div className=\"flex items-center hover:bg-gray-100 -mx-8 px-6 py-5\" key={product.id}>\r\n                                    <div className=\"flex w-2/5\"> \r\n                                        <div className=\"w-20\">\r\n                                            <img className=\"h-24\" src={product.image} alt=\"\"/>\r\n                                        </div>\r\n                                        <div className=\"flex flex-col justify-between ml-4 flex-grow\">\r\n                                            <span className=\"font-bold text-sm\">{product.name}</span>\r\n                                            <span className=\"text-red-500 text-xs\">\r\n                                                {DB_ATTRIBUTES.brands.filter((attribute) => Number(attribute.uid) === Number(product.brand))[0].value}\r\n                                            </span>\r\n                                            <button onClick={() => {removeItem(item.key)}} className=\"font-semibold hover:text-red-500 text-gray-500 text-xs text-left\">Remove</button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex justify-center w-1/5\">\r\n                                        <input className=\"mx-2 border text-center w-14\" type=\"number\" defaultValue={item.quantity}/>\r\n                                    </div>\r\n                                    <span className=\"text-center w-1/5 font-semibold text-sm\">BDT. {product.price}</span>\r\n                                    <span className=\"text-center w-1/5 font-semibold text-sm\">BDT. {product.price * item.quantity}</span>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    \r\n\r\n                    <Link to=\"/\" className=\"flex font-semibold text-indigo-600 text-sm mt-10\">\r\n                        <svg className=\"fill-current mr-2 text-indigo-600 w-4\" viewBox=\"0 0 448 512\"><path d=\"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z\" /></svg>\r\n                        Continue Shopping\r\n                    </Link>\r\n                </div>\r\n\r\n                <div id=\"summary\" className=\"w-1/4 px-8 py-10\">\r\n                    <h1 className=\"font-semibold text-2xl border-b pb-8\">Order Summary</h1>\r\n                    <div className=\"flex justify-between mt-10 mb-5\">\r\n                        <span className=\"font-semibold text-sm uppercase\">Items {cartList.length}</span>\r\n                        <span className=\"font-semibold text-sm\">\r\n                            BDT. { calculateTotalPrice() }\r\n                        </span>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"font-medium inline-block mb-3 text-sm uppercase block\">Shipping</label><br />\r\n                        <p className=\"font-small inline-block mb-3 text-sm uppercase\">Cash On Delivery</p>\r\n                    </div>\r\n                    <div className=\"border-t mt-8\">\r\n                        <div className=\"flex font-semibold justify-between py-6 text-sm uppercase\">\r\n                            <span>Total cost</span>\r\n                            <span>BDT. { calculateTotalPrice() }</span>\r\n                        </div>\r\n                        <Link to=\"/checkout\" className=\"bg-indigo-500 font-semibold hover:bg-indigo-600 py-3 text-sm text-white uppercase w-full block text-center\">Checkout</Link>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cart;"]},"metadata":{},"sourceType":"module"}